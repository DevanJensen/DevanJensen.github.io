<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>JavaScript Loops</title>
    <meta name="robots" content="noindex, nofollow" />
    <meta name="description" content="An introduction to loops in JavaScript">
    <meta name="viewport" content="width=device-width">
    <link REL=StyleSheet HREF="../styles/style.css" TYPE="text/css">
    <script src="../js/main.js"></script>
  </head>
  <body>
    <h1>Looping Control Structures</h1>
    <p>
      We learned about one type of control structure when we covered IF statements.
      IF statements control the flow of our code.
      Another type control structure in programming are known as <b>loops</b>.
    </p>
    <p>
      A loop allows you to run certain code repeatedly.
      You can run a block of code a specific number of times, 
      or you can continue to repeat it while a boolean expression remains true. 
      There are a few different types of loops, and you can choose the one that best meets your needs.
    </p>
    
    <h3>While Loops</h3>
    <p>
      To get started, we'll use a <b>while loop</b>.
      A while loop will continue to repeat as long as a boolean expression evaluates to true.
      Let's start by looking at the syntax of a while loop:
    </p>
    <pre>
while(boolean expression goes here){
  //this code will repeat until the boolean expression evaluates to false
}
    </pre>
    <p>
      It starts with the 'while' special key word, then inside parenthesis
      we have a boolean expression.
      After the closing parenthesis we have a pair of curly braces.
      The code inside the curly braces make up the 'body' of the loop.
      This code will repeat until the boolean expression evaluates to false.
    </p>
    <p>
      You might be wondering how the boolean expression turns from true to false
      while the loop is running. 
      Usually some code in the body of the loop will change it.
      Take a look at this example:
    </p>
    <pre>
var guess;

while(guess != "George Washington"){
  guess = prompt("Who was the first president of the U.S.?");
}

alert("CORRECT!");
    </pre>
    <p>
      If you run this example, you will be prompted to answer a question over and over until you enter the correct answer.
      The first line declares a variable, but does not initialize it.
      The boolean expression in the for loop will evaluate to true, because the value of 'guess' is not initialized and therefore is not equal to "George Washington".
      Remember that the inequality operator (which is !=) is used to confirm that two values are not equal, if they are indeed not equal then result will be true.
      So the loop begins, and the code in the body executes.
      In this example, the body of the loop is just a single statement that assigns a value to 'guess' by prompting the user to enter
      the answer to the queston.
      When the code in the body finishes executing, the boolean expression is evaluated again.
      So if the user enters "George Washington", the boolean expression would evaluate to false this time, which would cause cause the loop to end and the alert would appear.
      If the user enters a wrong answer into the prompt, then the boolean expression will continue to evaluate to true and the code in the body of the loop will repeatedly execute until the correct answer is entered.
    </p>
    <p>
      Note that the number of loops depends solely on the value of 'guess', and the 'guess' is re-assigned a new value each time the loop runs.
    </p>
    <p>  
      We can verbalize this loop by saying, 'repeat the loop while the value of guess is not equal to George Washington'.
      And this is why it's called a 'while' loop.
    </p>
    <p>
      Before moving on to the next type of loop, note that looping is also called <b>iterating</b>.
      And each time the code in the loop body executes is said to be an <b>iteration</b> of the loop.
    </p>
    <h3>For Loops</h3>
    <p>
      'For' loops allow us to repeat code a specific number of times.
      and they differ from while loops in an important way; they have a built-in counter.
      The syntax for a 'for' loop is a little more complicated than a while loop.
    </p>
    
    <pre>
for(set up the counter; boolean expression  based on the counter; increment the counter){
  // this code will repeat until the boolean expression on the counter evaluates to false
}
    </pre>
    <p>
      There's a alot going on here, lets break it down.
      It starts with the special keyword 'for' and is followed by a pair of parenthesis.
      There are three things that go inside the parenthesis (separated by semi-colons), and together they will determine how many iterations of the loop will execute.
      Then we have a pair a curly braces, which hold the body of the loop.
    </p>
    <p>
      Let's discuss what's going on inside the parenthesis.
      First we set up our 'counter', this is usually just declaring and initializing a variable (we can choose the variable name).
      The second part is a boolean expression that will be evaluated.
      As long as this expression evaluates to true, the loop will continue to iterate.
      The third part specifies how to increment the counter variable when an iteration completes.  
    </p>
    <p>
      That's a lot to swallow all at once, let's take a look at a real example of a for loop to make sense of it.
    </p>
    <pre>
for(var x = 1; x <= 3; x++){
  console.log("looping...x is " + x);
}
    </pre>
    <p>
      In this example, 'x' is our counter variable and it is initialized to 1.
      The boolean expression indicates that the loop should iterate as long as x is less than or equal to 3.
      The final part inside the parenthesis indicates that x should be incremented by 1 after each iteration
      (recall that ++ is the increment operator, and increases a value by one).
      In the body of the loop, we are simply log a message that displays the current value of our counter.
      During the first iteration, x has a value of 0 (because that's what it was initialize to),
      but when the the first iteration completes, x will be incremented from 0 to 1 (because that's what was indicated by the third part in the parenthesis).
      The loop will then evaluate the the boolean expression, which will result in true (1 < 3), so the loop iterates again.
      This time we'll see that x is 1 when we look in the console.
      After the code in the body completes, x will be incremented to 2 and the boolean expression will again result in true (2 < 3),
      which means that the loop will iterate again, displaying a message in the log that x is 2.
      The iteration completes, and x is incremented to 3.
      This time the boolean expression evaluates to false (3 < 3) and the loop is terminated.
    </p>
    <p>
      It definitely takes some practice to get the hang of for loops, but they are so common in programming that
      you will quickly have many opportunities to use them.
    </p>
    <h3>Loops and Arrays</h3>
    <p>
      Loops and arrays go hand-in-hand because we can use loops to work with each element in an array.
      And we can use the counter variable as the index to retreive each element from the array.
    </p>
    <p>
      In the code sample below, notice how the loop counter (the variable 'x') is used to fetch each element in the array as the loop iterates.
    </p>
    <pre>
var names = ["Bob", "Betty", "Keith"];

// get the length of the array so we know how many times to iterate
var loopCount = names.length;

for(var x = 0; x < loopCount; x++){
  var currentName = names[x];
  console.log(currentName + " is at index " + x);
}
    </pre>
    <p>
      In the body of the loop, we retreive the 'current' element by using the counter variable as an index number.
      Note that currentName will contain the element that we are working with in the current iteration.
    </p>    
    <p>
      We could actually achieve the same results by eliminating the loopCount and the currentName variables.
    </p>    
    <pre>
var names = ["Bob", "Betty", "Keith"];

for(var x = 0; x < names.length; x++){
  console.log(names[x] + " is at index " + x);
}
    </pre>
    <h3>Searching for Elements in an Array</h3>
    <p>
      A common programming task is to see if a certain value is in an array.
      We can use loops to iterate through an array and to see if one of the elements has the value that you are looking for.
    </p>
    <pre>
var numbers = [1,3,4,7,12,15,17,20];

var someNumber = prompt("Enter a number");

for(var x = 0; x < numbers.length; x++){
  var element = numbers[x];
  if(element == someNumber){
    alert("I found " + someNumber + " at index " + x);
  }
}
    </pre>
    <h3>Breaking Out of Loops Early</h3>
    <p>You can terminate a loop by using the <b>break</b> keyword.</p>
    <pre>
var employees = ["Tom", "Betty", "Joe", "Sara", "Sally", "Jesse", "Luther", "Morton"];
var searchFor = prompt("Enter an employee to look up.");
var selectedEmployee;

for(var x = 0; x < employees.length; x++){
  if(employees[x] == searchFor){
    selectedEmployee = employees[x];
    break; //no need to continue the loop since we found who we're looking for!
  }
}

if(selectedEmployee){
  alert("We found " + selectedEmployee);
}else{
  alert("We can't find " + searchFor);
}
    </pre>

    <h3>Nested Loops</h3>
    <p>
      We can 'nest' loops and sometimes it really comes in handy.
      Here's a program that allows you to create a grid
      of rows and columns.
      Run it in the browser and experiment with it to understand how it works before you look at the code.
      Some of the code is a little hairy, so I encourage you to ask questions about it in class (it could lead to some helpful discussion).
    </p>
    <pre>
var rowCount = prompt("How many rows would you like in your table?");
var columnCount = prompt("How many cells would you like in each row?");

createGrid(rowCount, columnCount);


function createGrid(rows, columns){

  // we'll use this variable to build a string for each row
  var currentRow;

  // loop through the rows
  for(var r = 1; r <= rows; r++){

      currentRow = "| ";

      // loop through the columns
      for(var c = 1; c <= columns; c++){
        currentRow += r + ":" + c + " | ";
      }

      console.log(currentRow);
  }

}
    </pre>
    <h3>Looping Through an Array of Objects</h3>
    <p>
      We'll conclude this lesson by creating an array of 'people' objects and then looping through each element.
      Each object will have two properties, firstName and lastName.
      In each iteration of the loop, we'll log the full name of each person.
    </p>
    <pre>
var people = [
  {firstName: "Bob", lastName: "Jones"},
  {firstName: "Sally", lastName: "Smith"},
  {firstName: "Betty", lastName: "Jenkins"},
  {firstName: "Tommy", lastName: "Green"}
];

for(var x = 0; x < people.length; x++){
  var person = people[x];
  var fullName = person.firstName + " " + person.lastName;
  console.log(fullName);
}
    </pre>  
    <h3>Now that we know about loops, let's revisit the question game we created earlier (see the comments near the bottom of the script tag below).
    
    <!--USE THIS SCRIPT TAG TO TRY OUT SOME OF THE CODE-->
    <script>
    // JavaScript code goes here, inside a script tag
    
    </script>

    <h1>Questions - JavaScript Loops</h1>
    <h4>Question 1</h4>
    <p class="question">
        What is the difference between a while loop and a for loop?
    </p>
    <div class="answer">
        While loops go until true is returned to it while for loops go for a specific number of times.
    </div>
    <h4>Question 2</h4>
    <p class="question">
        What is an <b>iteration</b>?
    </p>
    <div class="answer">
        iteration is another name for looping.
    </div>
    <h4>Question 3</h4>
    <p class="question">
        What is a 'counter variable'?
    </p>
    <div class="answer">
        The counter variable is the number of times a for loop loops, it can be used to interact with arrays.
    </div>
        <h4>Question 4</h4>
    <p class="question">
        What does the <b>break;</b> statement do when used inside a loop?
    </p>
    <div class="answer">
        It stops the loop from finishing or repeating.
    </div>

	  <h1>Coding Problems</h1>
    <h3>Coding Problems - See the 'script' tag below this h3 tag. You will have to write some JavaScript code in it.</h3>
    <p>
        <b>Always test your work! Check the console log to make sure there are no errors.</b>
    </p>
    <script>
    /////////////////////
    // CODING PROBLEMS
    /////////////////////

/*
Problem 1 - Use a while loop to iterate from 0 to 9

Declare a variable named numLoops and initialize it to 0.
Declare another variable named totalLoops and initialize it to 10.
Then write a while loop that will iterate while numLoops is less than totalLoops
In the body of the loop do two things:
   1. log numLoops
   2. increment numLoops by 1 (if you forget this, you may have a dreaded 'infinite loop' - a loop that never terminates - it will crash your program!)
*/
console.log("Problem 1 start");
var numLoops = 0;
var totalLoops = 10;
for(numLoops; numLoops  < totalLoops; numLoops++) {
  console.log(numLoops);
}
/*
Problem 2 - Loop until the user enters the correct password

1. Declare a variable called secretPassword and initialize it to a value of 'abc'.
2. Declare another variable called passwordEntered and leave it uninitialized.
3. Then create a while loop that continues to iterate as long as secretPassword is NOT equal to passwordEntered.
4. Inside the body of the loop, use the prompt() function to ask the user to 'Enter the password' and assign the return value to passwordEntered. 
5. After the loop (after the closing the curly brace that closes the body of the loop), alert this message: "You entered the correct password!"
*/
var secretPassword = "abc";
var passwordEntered;
while(passwordEntered != secretPassword) {
  passwordEntered = prompt("Enter the password:");
}

alert("You entered the correct password!");

/*
Problem 3 - A for loop that iterates from 1 to 5

Write a for loop that loops from 1 to 5.
Use 'x' as the name of the counter variable.
Inside the body of the loop, simply log x.
(the console should log 1,2,3,4, and 5 when you run this code).
*/
console.log("Problem 3 start");
for(x = 1; x <= 5; x++) {
  console.log(x);
}

/*
Problem 4 - A for loop that calculates the sum of an array of numbers
Declare a variable named 'total' and initialize it to 0 (zero);
Then write a for loop that iterates through the 'numbers' array below.
Inside the body of the loop, add the value of each element to 'total'.
By the time the loop is done you should have the sum stored in 'total'.
After the loop, log the 'total' variable.
*/
console.log("Problem 4 start")
var numbers = [2,5,3];
var total = 0;

for(var x = 0; x < numbers.length; x++) {
  total = total + numbers[x];
}
console.log(total);

/*
Problem 5 (this is a tough one!)
We are going to write a program that asks the user to enter a last name, and 
then searches(loops) through an array of 'employee' objects (the code for this array is provided below). 
If we find an 'employee' that has the same last name as the one entered by the user, then we will display all 
the properties of the employee.

STEPS
Use the 'employees' array below for this problem. 
It is an array of objects (each element in the array is an object that represents an employee)
1. Declare a variable called 'matchingEmployee', but do not initialize it.
2. Declare a variable called 'lastNameToSearch' and assign a value to it by using a prompt() that asks the user 
   to "Enter the last name of an employee to search".
3. Then write a for loop that iterates through each element in the 'employees' array.
   In the body of the loop, write an IF statement that checks to see if lastNameToSearch is equal to 
   the last name of the element (an employee object) that you are currently looping through. 
   If a match is found, then assign the element to  the matchingEmployee variable and 
   then break out of the loop
4. After the loop, write an IF statement to see if matchingEmployee has been initialized to a value.
   Hint:  if(matchingEmployee){
    
          }
   If so, then log mathcingEmployee. 
   If no match is found (this means that 'matchingEmployee' never got initialized in the body of the loop), then alert the user 'Unable to find that employee'.

Make sure to test your code with each step so that you can spot errors right away.
When you are done, test your code by searching for last names that occur in the data (employees array)
AND by searching for last names that do not exist in the data.
*/
var employees = [
  { id:101, firstName: "Joe", lastName: "Anderson" }, //0
  { id:102, firstName: "Jenny", lastName: "Beacham" }, //1
  { id:103, firstName: "Sally", lastName: "Crockford" }, //2
  { id:104, firstName: "Chester", lastName: "Denning" }, //3
  { id:105, firstName: "Winnie", lastName: "Frank" }, //4
  { id:106, firstName: "Patty", lastName: "Mumford" }, //5
  { id:107, firstName: "Lorraine", lastName: "Oliver" }, //6
  { id:108, firstName: "Judd", lastName: "Jones" }, //7
  { id:109, firstName: "Billy", lastName: "Smith" }, //8
  { id:110, firstName: "Mark", lastName: "Portman" } //9
];

var matchingEmployee;
var lastNameToSearch = prompt("Enter the last name of an employee to search:");
for(x = 0; x < employees.length; x++) {
  if(employees[x].lastName == lastNameToSearch) {
    matchingEmployee = lastNameToSearch;
    break;
  }
}

if(matchingEmployee) {
  alert("We found " + matchingEmployee);
}else {
  alert("Unable to find employee.");
}

    </script>
    <footer>
      &copy; 2018 Niall Kader
    </footer>
  </body>
</html>


